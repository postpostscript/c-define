<x-is src="#x-define" name="x-define">
  <template id="x-define">
    <slot></slot>
    <script>
      const name = this.getAttribute("name");
      const src = this.getAttribute("src");
      const formAssociated = this.hasAttribute("formAssociated");
      const observedAttributes = this.getAttribute("observe")
        ?.trim()
        .split(/(\s|,)+/g);

      const template = src
        ? document.querySelector(src)
        : this.shadowRoot.children[0].assignedElements()[0];
      console.log({ name, template });

      DynamicElement.define(name, {
        template,
        observedAttributes,
        formAssociated,
      });
    </script>
  </template>
</x-is>
